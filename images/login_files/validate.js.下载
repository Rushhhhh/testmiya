$.bt_validate={method:function(t,a,e){$.bt_validate.fn[t]=a,$.bt_validate.text[t]=e}},$.fn.show_tooltip=function(t,a){$(this).closest(".inputGroup").find("p").text(t).show()},$.fn.show_ok_tooltip=function(t){$(this).show_tooltip(t,"#45b97c")},$.fn.show_err_tooltip=function(t){$(this).show_tooltip(t,"#f05b72")},$.fn.hide_tooltip=function(t){$(t).closest(".inputGroup").find("p").text("").hide()},$.bt_validate.result=!0,$.bt_validate.blocked=!1,$.bt_validate.block=function(){$.bt_validate.blocked=!0},$.bt_validate.unblock=function(){$.bt_validate.blocked=!1},$.fn.bt_validate=function(){$.bt_validate.form=$(this),$.bt_validate.form.find("input[validate],select[validate],textarea[validate]").blur(function(){var t=$(this).attr("validate").split("|"),a=!0;for(var e in t){var i=t[e].split(","),l=i[0];i[0]=$.trim($(this).val());var o=$.bt_validate.fn[l];if("function"==typeof o)var r=o.apply($(this),i);else var r=o.fn_validate.apply($(this),i);if("string"!=typeof r){if(!r){for(var s=$.bt_validate.text[l],_=1;_<i.length;_++)s=s.replace("%"+_,i[_]);$(this).show_err_tooltip(s),a=!1,$.bt_validate.result=!1,null!=$.bt_validate.after_validate&&$.bt_validate.after_validate.call($(this),l,i[0],i.slice(1),!1);break}}else a=!1,null!=$.bt_validate.after_validate&&$.bt_validate.after_validate.call($(this),l,i[0],i.slice(1),!1)}a&&(null!=$.bt_validate.after_validate&&$.bt_validate.after_validate.call($(this),l,i[0],i.slice(1),!0),$.fn.hide_tooltip($(this)))})},$.bt_validate.validate=function(t){return $.bt_validate.result=!0,$.bt_validate.form.find("input[validate],select[validate],textarea[validate]").trigger("blur"),!$.bt_validate.blocked&&$.bt_validate.result},$.bt_validate.ajax_check=function(t){this.params=t;var a=this;return this.fn_validate=function(t){if(void 0!=a.usercheck_prev_value&&a.usercheck_prev_value==t)return"";a.usercheck_prev_value=t,$.bt_validate.block(),this.show_tooltip(a.params.msg_checking,"blue");var e=this;return setTimeout(function(){$.ajax({url:a.params.url,data:a.params.get_data(),success:function(t){a.params.get_success(t)?e.show_err_tooltip(a.params.msg_fail):(e.show_ok_tooltip(a.params.msg_ok),$.bt_validate.unblock(),setTimeout(function(){e.hide_tooltip()},3e3))},type:a.params.type,dataType:a.params.return_type})},250),""},this};